/* ========== Smart FAQ Center — Brand × Modern UI (WASEDA SG) ========== */
:root{
  --bg:#0b1220; --surface:#121a2b; --text:#eaf1ff; --muted:#a9b8d8;
  --brand-blue:#1e66ff; --brand-green:#00c39a; --brand-orange:#ffa800;
  --card:#0f1524; --border:#1f2a44; --shadow:0 10px 25px rgba(14,22,48,.5);
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#f6f8fc; --surface:#ffffff; --text:#07122e; --muted:#51607c;
    --brand-blue:#1860ff; --brand-green:#00b68f; --brand-orange:#ff9900;
    --card:#ffffff; --border:#e6e9f3; --shadow:0 10px 25px rgba(9,24,61,.08);
  }
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP",Arial;
  color:var(--text);
  background:
    radial-gradient(1000px 600px at 10% -10%, rgba(107,169,255,.15), transparent 60%),
    radial-gradient(1000px 600px at 110% 10%, rgba(123,255,199,.12), transparent 60%),
    var(--bg);
}
.container{max-width:1100px;margin:0 auto;padding:16px 20px}

/* ---------- Header（視認性を上げる：ほぼソリッド） ---------- */
.header{
  position:sticky; top:0; z-index:50;
  background:var(--surface);
  border-bottom:1px solid var(--border);
  box-shadow:0 2px 10px rgba(0,0,0,.08);
  backdrop-filter:saturate(140%) blur(8px);
}
@media (prefers-color-scheme: dark){
  .header{
    background:rgba(18,26,43,.94);
    box-shadow:0 2px 12px rgba(0,0,0,.45);
  }
}
.bar{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.brand{display:flex;align-items:center;gap:12px;min-width:260px}
.logo{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--brand-blue), var(--brand-green));box-shadow:var(--shadow)}
.title{font-weight:800;letter-spacing:.2px}
.site-note{color:var(--text);background:linear-gradient(180deg, rgba(0,0,0,.28), rgba(0,0,0,.12));
  border:1px solid rgba(255,255,255,.12); border-radius:999px; padding:4px 10px; font-size:12px; backdrop-filter: blur(6px);}
.site-footer{margin:24px auto;padding:12px 20px;max-width:1100px;color:var(--muted);font-size:12px}
.site-footer a{color:var(--muted);text-decoration:underline}

/* うすめの注釈系（未定義対策） */
.subtle{ color:var(--muted); font-size:14px; }
.stepnote{ color:var(--muted); font-size:13px; margin-top:4px; }

/* ---------- Controls / pills / buttons ---------- */
.tools{display:flex;gap:10px;align-items:center;margin:14px 0 6px;flex-wrap:wrap}
.search{flex:1;display:flex;align-items:center;gap:8px;border:1px solid var(--border);background:var(--surface);border-radius:12px;padding:8px 10px;min-width:220px}
.search input{flex:1;border:none;outline:none;font-size:15px;background:transparent;color:var(--text)}
.pill{--h:210;border:1px solid hsla(var(--h),80%,50%,.35);padding:7px 10px;border-radius:999px;cursor:pointer;background:var(--surface);font-size:13px;transition:.2s}
.pill:hover{border-color:hsla(var(--h),80%,55%,.7);box-shadow:0 0 0 2px hsla(var(--h),80%,55%,.15) inset}
.pill.active{border-color:hsla(var(--h),80%,55%,.9);box-shadow:0 0 0 2px hsla(var(--h),80%,55%,.25) inset}
.pill-wrap{display:flex;gap:8px;flex-wrap:wrap}

.btn{appearance:none;border:1px solid var(--border);background:var(--surface);color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:700;transition:.2s}
.btn:hover{transform:translateY(-1px)}
.btn.primary{background:linear-gradient(135deg,var(--brand-blue), var(--brand-green)); color:#081422; border:none}

/* 視認性向上のゴーストボタン（ヘッダー等で少し浮かせる） */
.btn.ghost{ background:rgba(255,255,255,.06); }
@media (prefers-color-scheme: dark){
  .btn.ghost{ background:rgba(255,255,255,.04); }
}

.btn.tiny{font-size:12px;padding:6px 10px;border-radius:10px}
.btn.tiny.ok{border:none;background:linear-gradient(135deg,var(--brand-blue), var(--brand-green)); color:#081422}
.btn.tiny.ghost{background:transparent;border:1px solid var(--border)}
.btn.tiny.ok:hover{filter:brightness(1.06)}
.btn.tiny.ghost:hover{background:rgba(255,168,0,.12);border-color:rgba(255,168,0,.45)}

/* ---------- Landing ---------- */
.landing{padding:24px}
.choices{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
.choice{border:1px solid var(--border); background:var(--card); border-radius:16px; padding:16px;
  display:flex; gap:12px; align-items:flex-start; cursor:pointer; transition:.2s transform,.2s box-shadow,.2s border-color, .2s opacity;}
.choice .ico{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,var(--brand-blue), var(--brand-green));flex:0 0 auto}
.choice h3{margin:0 0 6px;font-size:16px}
.choice p{margin:0;color:var(--muted);font-size:13px}
.choice:hover{transform:translateY(-3px);box-shadow:var(--shadow);border-color:rgba(255,168,0,.6)}
.choice.selected{transform:translateY(-3px) scale(1.03); border-color:rgba(30,102,255,.8); box-shadow:0 6px 20px rgba(30,102,255,.25)}
.choice.dim{opacity:.55}

/* ---------- Category group / card (colored) ---------- */
.group{margin:20px 0; --cat-h:220}
.cat-head{width:100%; text-align:left; background:linear-gradient(0deg, hsla(var(--cat-h),85%,60%,.06), transparent);
  color:var(--text); border:1px solid var(--border); border-left:6px solid hsl(var(--cat-h),85%,54%);
  border-radius:14px; padding:14px 16px; display:flex; align-items:center; gap:10px; cursor:pointer; transition:.2s;}
.cat-head:hover{border-color:rgba(255,168,0,.5); box-shadow:0 0 0 2px rgba(255,168,0,.2) inset}
.cat-head .cat-title{font-weight:800}
.badge{margin-left:auto;border-radius:999px;padding:2px 8px;font-size:12px;background:hsla(var(--cat-h),85%,60%,.12);color:hsl(var(--cat-h),85%,60%);border:1px solid hsla(var(--cat-h),85%,60%,.35)}
.group .cat-body{max-height:0; overflow:hidden; transition:max-height .35s ease, padding .25s ease; padding:0 2px}
.group.open .cat-body{padding:8px 2px 2px; max-height:9999px}

.card{border:1px solid var(--border);border-left:4px solid hsl(var(--cat-h),85%,54%);background:var(--card);border-radius:16px;overflow:hidden;box-shadow:var(--shadow);margin:10px 0;transition:.15s}
.card:hover{transform:translateY(-1px)}
.q{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:14px 16px;cursor:pointer;background:linear-gradient(0deg, hsla(var(--cat-h),85%,60%,.03), transparent)}
.q h3{margin:0;font-size:16px;font-weight:700}
.chev{width:14px;height:14px;transition:.25s transform;opacity:.85}
.a{max-height:0;overflow:hidden;transition:max-height .3s ease, padding .25s ease; padding:0 16px;border-top:1px solid transparent;background:transparent}
.a.open{padding:12px 16px 16px;border-top:1px solid var(--border);background:hsla(var(--cat-h),85%,58%,.05)}
.a p{margin:0}
.helpful{margin-top:10px; display:flex; gap:8px; flex-wrap:wrap}

/* ---------- Alerts ---------- */
.alert{color:#1f283a;background:#ddf4ff;border:1px solid #b5e2ff;padding:12px;border-radius:12px}
@media (prefers-color-scheme: dark){ .alert{color:#cde8ff;background:rgba(35,115,223,.15);border-color:#1e3a8a} }

/* ---------- Scrollbar / focus ---------- */
*{scrollbar-width:thin; scrollbar-color: rgba(30,102,255,.6) transparent;}
::-webkit-scrollbar{height:10px;width:10px}
::-webkit-scrollbar-thumb{background:linear-gradient(180deg, var(--brand-blue), var(--brand-green)); border-radius:10px}
::-webkit-scrollbar-track{background:transparent}
:focus-visible{outline:2px solid rgba(255,168,0,.85); outline-offset:2px; border-radius:10px}

/* ---------- Responsive ---------- */
@media (max-width:720px){
  .bar{gap:10px}
  .title{font-size:16px}
  .tools{gap:8px}
  .search{flex:1 1 100%}
  .pill-wrap{flex:1 1 100%}
  .q h3{font-size:15px}
}
/* === Header: 明るいトーンで固定（ライト/ダーク関係なく） === */
.header{
  background: linear-gradient(180deg, #f8fbff 0%, #eef6ff 100%) !important;
  border-bottom: 1px solid rgba(0,0,0,.08) !important;
  box-shadow: 0 2px 10px rgba(0,0,0,.06) !important;
  color: #0f1d34; /* ヘッダー内テキスト色を濃いめに */
}
.header .title,
.header .brand,
.header a,
.header .btn { color:#0f1d34 !important; }

.header .btn.ghost{
  /* 明るいヘッダー上でもボタンが見えるよう少しグレー背景 */
  background: rgba(0,0,0,.06) !important;
  border-color: rgba(0,0,0,.18) !important;
}
.header .btn.ghost:hover{ filter:brightness(1.03); }

.header .site-note{
  color:#0f1d34 !important;
  background: rgba(0,0,0,.05) !important;
  border-color: rgba(0,0,0,.12) !important;
}
/* === AI 検索UI: チャット/入力レイアウト改善 === */
.chat{
  border:1px solid var(--border);
  background:var(--surface);
  border-radius:16px;
  padding:14px;
  min-height:200px;           /* 初期エリアを広めに */
  max-height:50vh;
  overflow:auto;
}

/* 吹き出し見た目（任意/既存がなければ活きます） */
.bubble{
  display:inline-block;
  max-width:min(85%, 720px);
  padding:10px 12px;
  border-radius:14px;
  margin:6px 0;
}
.bubble.bot{
  background:rgba(30,102,255,.08);
  border:1px solid rgba(30,102,255,.25);
}
.bubble.me{
  background:rgba(255,168,0,.14);
  border:1px solid rgba(255,168,0,.35);
  margin-left:auto;
}

/* 入力エリア（送信ボタン横並び） */
.composer{
  display:flex;
  align-items:flex-end;
  gap:10px;
  margin-top:12px;
}
.composer textarea{
  flex:1;
  min-height:96px;            /* 初期サイズを大きく */
  max-height:40vh;
  resize:vertical;            /* 縦方向のリサイズ可 */
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:12px;
  background:var(--surface);
  color:var(--text);
  line-height:1.5;
}
.composer .btn{
  height:44px;                /* ボタン高さを揃える */
  padding:0 18px;
  white-space:nowrap;
}

/* モバイル時は縦積み＋ボタン全幅 */
@media (max-width: 720px){
  .composer{ flex-direction:column; align-items:stretch; }
  .composer .btn{ width:100%; }
}
